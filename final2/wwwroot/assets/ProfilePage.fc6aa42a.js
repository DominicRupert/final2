import{p as x,D as u,c as m,M as K,a as i,o as s,b as o,d as r,e as d,q as U,F as v,B as h,s as _,z as p,E as C}from"./vendor.4be605e7.js";import{a as g,A as c,_ as B,P as f}from"./index.539449bd.js";class E{async getProfile(e){const n=await g.get(`/api/profiles/${e}`);c.activeProfile=n.data}async getUsersKeeps(e){const n=await g.get(`/api/profiles/${e}/keeps`);c.activeUsersKeeps=n.data}async getUsersVaults(e){const n=await g.get(`/api/profiles/${e}/vaults`);c.activeUsersVaults=n.data}}const y=new E,L={setup(){const l=x();return u(async()=>{try{await y.getProfile(l.params.id)}catch(e){console.error("[COULD_NOT_LOAD_USER]",e.message),f.toast(e.message,"error")}}),u(async()=>{try{await y.getUsersKeeps(l.params.id)}catch(e){console.error("[COULD_NOT_LOAD_KEEPS]",e.message),f.toast(e.message,"error")}}),u(async()=>{try{await y.getUsersVaults(l.params.id)}catch(e){console.error("[COULD_NOT_LOAD_VAULTS]",e.message),f.toast(e.message,"error")}}),{account:m(()=>c.account),activeProfile:m(()=>c.activeProfile),activeUsersVaults:m(()=>c.activeUsersVaults),activeUsersKeeps:m(()=>c.activeUsersKeeps),openVaultModal(){document.getElementById("createVaultForm").reset(),K.getOrCreateInstance(document.getElementById("createVaultModal")).toggle()},openKeepModal(){document.getElementById("createKeepForm").reset(),K.getOrCreateInstance(document.getElementById("createKeepModal")).toggle()}}}},F={key:0,class:"container"},b={class:"row mb-5"},D={class:"row mb-5"},N={class:"comfortaa ms-2"},A=p(" Vaults "),I={class:"comfortaa ms-2"},S=p(" Keeps "),T={class:"masonry-with-columns"},j={key:1,class:"container"},R=r("div",{class:"row mt-5 text-center"},[r("h1",null,"Loading...")],-1),q=[R],z=p(" Create a Keep "),G=p(" Create a Vault ");function H(l,e,n,t,J,Q){const P=i("Profile"),k=i("Vault"),M=i("Keep"),w=i("CreateKeepForm"),V=i("Modal"),O=i("CreateVaultForm");return s(),o(v,null,[t.activeProfile&&t.activeUsersVaults&&t.activeUsersKeeps?(s(),o("div",F,[r("div",b,[d(P)]),r("div",D,[r("h3",N,[A,t.activeProfile.id===t.account.id?(s(),o("i",{key:0,class:"mdi mdi-plus text-primary action",onClick:e[0]||(e[0]=a=>t.openVaultModal())})):U("",!0)]),(s(!0),o(v,null,h(t.activeUsersVaults,a=>(s(),C(k,{key:a.id,vault:a},null,8,["vault"]))),128))]),r("h3",I,[S,t.activeProfile.id===t.account.id?(s(),o("i",{key:0,class:"mdi mdi-plus text-primary action",onClick:e[1]||(e[1]=a=>t.openKeepModal())})):U("",!0)]),r("div",T,[(s(!0),o(v,null,h(t.activeUsersKeeps,a=>(s(),C(M,{key:a.id,keep:a},null,8,["keep"]))),128))])])):(s(),o("div",j,q)),d(V,{id:"createKeepModal"},{title:_(()=>[z]),body:_(()=>[d(w)]),_:1}),d(V,{id:"createVaultModal"},{title:_(()=>[G]),body:_(()=>[d(O)]),_:1})],64)}var Y=B(L,[["render",H]]);export{Y as default};
