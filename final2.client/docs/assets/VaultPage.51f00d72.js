import{u as V,p as y,D as p,c as l,a as f,o as r,b as i,d as s,t as g,q as b,F as E,B as T,E as K}from"./vendor.4be605e7.js";import{_ as k,v,P as o,b as w,A as u}from"./index.5269bce4.js";const D={setup(){const c=V(),a=y();return p(async()=>{try{await v.getVault(a.params.id)}catch(t){console.error("[THIS_VAULT_IS_PRIVATE]",t.message),o.toast("You do not have access to this vault","error"),c.push({name:"Home"})}}),p(async()=>{try{await w.getVaultKeeps(a.params.id)}catch(t){console.error("[COULD_NOT_GET_KEEPS_IN_VAULT]",t.message),o.toast(t.message,"error")}}),{vault:l(()=>u.activeVault),account:l(()=>u.account),vaultKeeps:l(()=>u.activeVaultKeeps),async deleteVault(t){try{await o.confirm()&&(await v.delete(t),o.toast("Vault Deleted","success"),c.push({name:"Profile",params:{id:this.account.id}}))}catch(e){console.error("[COULD_NOT_DELETE_VAULT]",e.message),o.toast(e.message,"error")}}}}},L={class:"container"},S={class:"row justify-content-between my-5"},A={class:"col-6"},P={class:"comfortaa"},x={key:0,class:"col-6 text-end"},B={class:"masonry-with-columns"};function C(c,a,t,e,I,N){var d,_;const h=f("Keep");return r(),i("div",L,[s("div",S,[s("div",A,[s("h1",P,g((d=e.vault)==null?void 0:d.name),1)]),e.account.id===((_=e.vault)==null?void 0:_.creatorId)?(r(),i("div",x,[s("button",{class:"btn btn-outline-secondary btn-lg",onClick:a[0]||(a[0]=n=>{var m;return e.deleteVault((m=e.vault)==null?void 0:m.id)})}," Delete Vault ")])):b("",!0)]),s("div",B,[(r(!0),i(E,null,T(e.vaultKeeps,n=>(r(),K(h,{key:n.id,keep:n},null,8,["keep"]))),128))])])}var j=k(D,[["render",C]]);export{j as default};
